---
title: Facilitator — Client‑Side
description: Call the facilitator directly from the browser or client app (serverless mode).
navGroup: Facilitator
navOrder: 4
status: beta
---

This path lets you execute on‑chain contracts without running a resource server. You talk directly
to the facilitator from the browser/app.

import { CodeTabs } from "@/components/ui/shadcn-io/code-tabs";

## Install

<CodeTabs
  codes={{
    npm: "npm install @x402x/client @x402x/core viem",
    pnpm: "pnpm add @x402x/client @x402x/core viem",
    yarn: "yarn add @x402x/client @x402x/core viem",
    bun: "bun add @x402x/client @x402x/core viem",
  }}
  lang="bash"
/>

## High‑Level API

```client.ts
import { X402Client } from "@x402x/client";
import { TransferHook } from "@x402x/core";

const client = new X402Client({
  wallet,                // viem wallet client (e.g. from wagmi)
  network: "base-sepolia",
  facilitatorUrl: "https://facilitator.x402x.dev",
});

// Example 1: Simple transfer (hook defaults to TransferHook, no splits)
const res1 = await client.execute({
  amount: "1000000",     // 1.00 USDC
  payTo: "0xMerchant...",
});
console.log("Simple transfer:", res1.txHash);

// Example 2: Revenue split (70% to merchant, 30% to platform)
const res2 = await client.execute({
  hook: TransferHook.getAddress("base-sepolia"),
  hookData: TransferHook.encode([
    { recipient: "0xPlatform...", bips: 3000 }, // 30% to platform
  ]),
  amount: "1000000",     // 1.00 USDC (merchant gets remaining 70%)
  payTo: "0xMerchant...", // Primary recipient gets remaining amount
});
console.log("Revenue split:", res2.txHash);
```

Under the hood the client:

- Queries min facilitator fee (or uses your provided fee)
- Prepares the settlement and computes the commitment (nonce)
- Signs EIP‑3009 with EIP‑712
- Submits to the facilitator and waits for confirmation (optional)

See the [Facilitator Fee documentation](./facilitator-fee.mdx) for detailed information about how fees work and how to manage them in your client applications.

## Low‑Level Primitives

```low-level.ts
import { prepareSettlement, signAuthorization, settle } from "@x402x/client";
import { TransferHook } from "@x402x/core";

const settlement = await prepareSettlement({
  wallet,
  network: "base-sepolia",
  hook: TransferHook.getAddress("base-sepolia"),
  hookData: TransferHook.encode(),
  amount: "1000000",
  payTo: "0xMerchant...",
  // facilitatorFee?: string  // optional; will be queried if omitted
});

const signed = await signAuthorization(wallet, settlement);
const result = await settle("https://facilitator.x402x.dev", signed);

console.log('Settlement result:', {
  success: result.success,
  transaction: result.transaction,
  network: result.network,
  payer: result.payer
});
```

## React Hook

```react-hook.ts
import { useX402Payment } from "@x402x/react";

const { pay, status, error } = useX402Payment();
await pay("/api/premium-content");
```

## CORS Notes

If calling a hosted facilitator from the browser, configure CORS on the facilitator
(`CORS_ORIGIN=https://yourapp.com` or a list of origins). See facilitator README for details.

import { RelatedLinks } from "@/components/docs/related-links";

## Related Docs

<RelatedLinks
  items={[
    {
      title: "Facilitator README",
      href: "https://github.com/nuwa-protocol/x402-exec/blob/main/facilitator/README.md",
      description: "CORS, security knobs, and production deployment.",
    },
    {
      title: "Showcase README",
      href: "https://github.com/nuwa-protocol/x402-exec/blob/main/examples/showcase/README.md",
      description: "Walkthrough of referral split, NFT mint, and rewards.",
    },
  ]}
/> 
